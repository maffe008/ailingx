<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <title>Ailingx Demo</title>
    <link rel="shortcut icon" href="">

    {% load static %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery-ui.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery-ui.structure.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/jquery-ui.theme.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/sogis.css' %}" />

    <script src="{% static 'js/jquery.js' %}"></script>
    <script src="{% static 'js/bootstrap.js' %}"></script>
    <script src="{% static 'js/jquery-ui.js' %}"></script>
    <script src="{% static 'js/demo-option.js' %}"></script>
    <script src="{% static 'js/demo-jquery.js' %}"></script>
    <script src="{% static 'js/demo-blockfunc.js' %}"></script>
    <script src="{% static 'js/demo-jquery-ui.js' %}"></script>

    <link rel="stylesheet" href="https://js.arcgis.com/4.4/esri/css/main.css">
    <script src="https://js.arcgis.com/4.4/"></script>

    <script type="text/javascript">
    require([
        "esri/Map",
        "esri/views/SceneView",
        "esri/views/MapView",

        "esri/Graphic",
        "esri/geometry/Point",
        "esri/symbols/SimpleMarkerSymbol",
        "esri/geometry/Polyline",
        "esri/symbols/SimpleLineSymbol",
        "esri/geometry/Polygon",
        "esri/symbols/SimpleFillSymbol",

        "esri/symbols/PointSymbol3D",
        "esri/symbols/ObjectSymbol3DLayer",
        "esri/symbols/WebStyleSymbol",

        "esri/core/watchUtils",
        "esri/widgets/Expand",
        "esri/widgets/BasemapGallery",

        "dojo/dom",
        "dojo/query",
        "dojo/on",
        "dojo/promise/all",
        "dojo/domReady!"

    ], function (Map, SceneView, MapView,
                 Graphic, Point, SimpleMarkerSymbol, Polyline, SimpleLineSymbol, Polygon, SimpleFillSymbol,
                 PointSymbol3D,ObjectSymbol3DLayer,WebStyleSymbol,
                 watchUtils, Expand, BasemapGallery,
                 dom, query, on, all)
    {

        // Create a Map with a basemap, to be used with in the main view
        var mainMap = new Map({
            basemap: "hybrid",
            ground: "world-elevation"
        });

        // Create another Map, to be used in the overview "view"
        var overviewMap = new Map({
            basemap: "streets"
        });

        // Create the SceneView
        var mainView = new SceneView({
            container: "viewDiv",
            map: mainMap,
            camera: {
                position: {
                    x: 107,
                    y: 21,
                    z: 9000000
                },
                tilt: 10,
                heading: 0
            }

        });


        // 1-1.Create a point
        var areapoint_JSJ = new Point(
                {longitude: 132.62733, latitude: 47.26818}
        );
        var areapoint_BL = new Point(
                {longitude: 114.1970, latitude: 23.1257}
        );
        var areapoint_ZJK = new Point(
                {longitude: 114.92658, latitude: 40.81462}
        );
        var areapoint_ZG = new Point(
                {longitude: 126.72743, latitude: 48.05202}
        );
        var areapoint_XJ = new Point(
                {longitude: 87.30802, latitude: 43.90181}
        );
        var areapoint_Hulbr = new Point(
                {longitude: 119.75307, latitude: 49.20679 }
        );
        var areapoint_QD = new Point(
                {longitude: 120.32627, latitude: 36.07038 }
        );
        var areapoint_DL = new Point(
                {longitude:  121.55627, latitude: 38.89792 }
        );
        var areapoint_CQ = new Point(
                {longitude:  106.54648, latitude: 29.25846 }
        );

        // 1-2.Create a symbol for drawing the point
        var markerSymbol = new SimpleMarkerSymbol({
            color: [226, 119, 40],
            outline: {
                color: [255, 255, 255],
                width: 1
            }
        });

        /*
        *
        *
        *
        *
        * */
        function add_ill_tree(lng,lat){
            var tp = new Point({longitude: lng, latitude: lat});
            var webStyleSymbol_ill = new WebStyleSymbol({
                name: "Other",
                portal: {
                url: "https://www.arcgis.com"
                },
                styleName: "EsriRealisticTreesStyle"
            });
            var sur = Math.round(Math.random()*3000)/100;
            var attr_tree = {
                lng: lng,
                lat: lat,
                survive: sur
            };
            // Create pop-up template
            var popupTemp_tree = {
                title: "病树位置",
                content: "<h5>经度：<b>{lng}</b></h5>" +
                "<h5>纬度：<b>{lat}</b></h5>" +
                "<h5>健康度：<b>{survive}%</b></h5>"
            };
            var ptGra = new Graphic({
                geometry: tp,
                symbol: webStyleSymbol_ill,
                attributes: attr_tree,
                popupTemplate: popupTemp_tree
            });
            mainView.graphics.add(ptGra);

        }





        // Create attributes
        var attr_JSJ = {
            Area: "建三江农垦",
            Hectare: "124万公顷",
            Info: "建三江地处三江平原腹地，总控制面积1.23万平方公里，耕地572万亩，" +
            "尚有可垦荒地300万亩，林地196万亩，牧草地70万亩，水面76万亩。年平均无霜期120天。" +
            "属寒温带湿润季风气候区，年平均气温1°C~2°C，有效积温20°C~24°C，" +
            "日照时数为2260~2449小时，平均降水量为550~600毫米，无霜期为110~135天。" +
            "这里的雨量、热量、日照时数是水稻、豆类及其他经济作物的最佳生长区带。" +
            "黑龙江农垦建三江管理局由十五个农场组成：七星、大兴、创业、前进、洪河、前锋、八五九、胜利、勤得利、青龙山、红卫、前哨、二道河、鸭绿河、浓江。"
        };
        var attr_BL = {
            Area: "博罗县罗阳镇",
            Hectare: "8920公顷",
            Info: "农林用地8920公顷，有林面积8533公顷，种植率97.5%，绿化率80.8%，覆盖率45.1%。" +
            "完成天然林管护和生态公益林改造，其中，实施林管护面积2500亩、生态公益林改造面积2500亩、" +
            "育林木苗5.5万株、义务植树5.5万株。粮食种植面积2.8万亩，农作物播种面积6.69万亩。"
        };
        var attr_ZJK = {
            Area: "张家口市",
            Hectare: "250万公顷",
            Info: "耕地932203.72公顷，园地143925.11公顷，林地1101076.65公顷，草地242304.05公顷，其它农用地80427.44公顷"
        };
        var attr_ZG = {
            Area: "赵光农场",
            Hectare: "46.39万公顷",
            Info: "耕地面积28400公顷，草原面积6070公顷，林地面积3000公顷，水面700公顷。" +
            "人口3万人，11个农业管理区，配套农机具2000余台，农机总动力5.5万千瓦，田间综合机械化程度95%以上"
        };
        var attr_XJ = {
            Area: "新疆生产建设兵团",
            Hectare: "745.63万公顷",
            Info: "2012年统计，农用土总面积419.86万公顷，" +
            "其中耕地104.31万公顷，园地6.52万公顷，林地44.39万公顷，牧草地242.65万公顷，" +
            "建设用地21.05万公顷，未利用地304.72万公顷，其他农用地21.99万公顷"
        };
        var attr_Hulbr = {
            Area: "呼伦贝尔农垦",
            Hectare: "300万公顷",
            Info: "呼伦贝尔农垦集团拥有众多特色和优势：" +
            "一、资源丰富，有施业区面积3万平方公里，" +
            "分布在呼伦贝尔9个旗市区境内，拥有600万亩耕地、1000万亩草场、40万亩林地、13万亩水面；" +
            "二、规模大，辖24个县团级现代化农牧场和27个企事业单位，总人口17万，其中各类从业人员7.4万；" +
            "三、组织化程度高，企业实行准军事化管理模式，是全国仅有的规模化、集约化垦区之一；" +
            "四、农牧业机械装备能力强，采用世界最先进的大型农机设备为主，总动力74.2万千瓦，田间农业综合机械化水平达95%；" +
            "五、科技实力雄厚，有各类专业技术人员4263人，农业科技贡献率71.38%，处于全国领先水平；" +
            "六、区位优越，生态良好，适宜打造绿色有机农产品基地。"
        };
        var attr_QD = {
            Area: "青岛市林业局",
            Hectare: "5万公顷",
            Info: "崂山区20.88万亩、崂山林场3.45万亩、城阳区4.89万亩、黄岛区25.62万亩、即墨市22.16万亩"
        };
        var attr_DL = {
            Area: "大连市林业有害生物防治检疫局",
            Hectare: "4.3万公顷",
            Info: "金普新区（约14.83万亩）、主城区（约3.78万亩）、甘井子区（约13.84万亩）、" +
            "高新技术园区（约8.17万亩）、旅顺口区（约17.39万亩）、长海县（约6.98万亩）"
        };
        var attr_CQ = {
            Area: "重庆市林业",
            Hectare: "?万公顷",
            Info: "待数据提交"
        };


        // Create pop-up template
        var popupTemp_JSJ = {
            title: "{Area}",
            content: "<h3>面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_BL = {
            title: "{Area}",
            content: "<h3>林地面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_ZJK = {
            title: "{Area}",
            content: "<h3>农用地面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_ZG = {
            title: "{Area}",
            content: "<h3>土地面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_XJ = {
            title: "{Area}",
            content: "<h3>土地面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_Hulbr = {
            title: "{Area}",
            content: "<h3>土地面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_QD = {
            title: "{Area}",
            content: "<h3>需作业面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_DL = {
            title: "{Area}",
            content: "<h3>需作业面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };
        var popupTemp_CQ = {
            title: "{Area}",
            content: "<h3>需作业面积：<b>{Hectare}</b></h3>"+
                    "相关信息：<p>{Info}</p>"
        };

        // 1-3.Create a graphic and add the geometry and symbol to it
        var pointGraphic_JSJ = new Graphic({
            geometry: areapoint_JSJ,
            symbol: markerSymbol,
            attributes: attr_JSJ,
            popupTemplate: popupTemp_JSJ
        });
        var pointGraphic_BL = new Graphic({
            geometry: areapoint_BL,
            symbol: markerSymbol,
            attributes: attr_BL,
            popupTemplate: popupTemp_BL
        });
        var pointGraphic_ZJK = new Graphic({
            geometry: areapoint_ZJK,
            symbol: markerSymbol,
            attributes: attr_ZJK,
            popupTemplate: popupTemp_ZJK
        });
        var pointGraphic_ZG = new Graphic({
            geometry: areapoint_ZG,
            symbol: markerSymbol,
            attributes: attr_ZG,
            popupTemplate: popupTemp_ZG
        });
        var pointGraphic_XJ = new Graphic({
            geometry: areapoint_XJ,
            symbol: markerSymbol,
            attributes: attr_XJ,
            popupTemplate: popupTemp_XJ
        });
        var pointGraphic_Hulbr = new Graphic({
            geometry: areapoint_Hulbr,
            symbol: markerSymbol,
            attributes: attr_Hulbr,
            popupTemplate: popupTemp_Hulbr
        });
        var pointGraphic_QD = new Graphic({
            geometry: areapoint_QD,
            symbol: markerSymbol,
            attributes: attr_QD,
            popupTemplate: popupTemp_QD
        });
        var pointGraphic_DL = new Graphic({
            geometry: areapoint_DL,
            symbol: markerSymbol,
            attributes: attr_DL,
            popupTemplate: popupTemp_DL
        });
        var pointGraphic_CQ = new Graphic({
            geometry: areapoint_CQ,
            symbol: markerSymbol,
            attributes: attr_CQ,
            popupTemplate: popupTemp_CQ
        });

        // 1-4.Add the graphic to the view
        mainView.graphics.add(pointGraphic_JSJ);
        mainView.graphics.add(pointGraphic_BL);
        mainView.graphics.add(pointGraphic_ZJK);
        mainView.graphics.add(pointGraphic_ZG);
        mainView.graphics.add(pointGraphic_XJ);
        mainView.graphics.add(pointGraphic_Hulbr);
        mainView.graphics.add(pointGraphic_QD);
        mainView.graphics.add(pointGraphic_DL);
        mainView.graphics.add(pointGraphic_CQ);

        /*
            Area Outline
         */

        // 3-1.Create a polygon geometry
        var BL_N = 23.130875645889883;
        var BL_S = 23.121166927809885;
        var BL_E = 114.20237471986587;
        var BL_W = 114.19187761906588;
        var area_BL = [[BL_W, BL_N],[BL_E, BL_N], [BL_E, BL_S],[BL_W, BL_S]];

        var block_BL_0001 = [
            [114.19917, 23.12386], [114.20036, 23.12356],[114.2005, 23.12392],[114.20213, 23.12321],
            [114.20105, 23.12264],[114.20111, 23.12221],[114.20105, 23.12193],[114.20047, 23.12205],
            [114.19852, 23.12118],[114.19821, 23.1218],[114.19857, 23.12234]
        ];
        var block_BL_0002 = [
             [114.19163, 23.12834],[114.19144, 23.13209], [114.19407, 23.13109], [114.19512, 23.12992],
            [114.19273, 23.12677], [114.19208, 23.12647]
        ];
        var block_BL_0002_warn1 = [
            //warn1
            [114.19362, 23.13002],
            [114.1941, 23.12996],
            [114.19416, 23.12984],
            [114.19379, 23.12989]
        ];
        var block_BL_0002_warn2 = [
            //warn2
            [114.19453, 23.13],
            [114.19474, 23.12991],
            [114.19466, 23.12979],
            [114.1945, 23.12992]
        ];
        var block_BL_0002_warn3 = [
            //warn3
            [114.19257, 23.12829],
            [114.19306, 23.12841],
            [114.19334, 23.12833],
            [114.19292, 23.12827]
        ];
        var block_BL_0002_ng1 = [
            //notgood1
            [114.19244, 23.13006],
            [114.19292, 23.13029],
            [114.19295, 23.12972],
            [114.19262, 23.1296]
        ];
        var block_BL_0002_ng2 = [
            //notgood2
            [114.19201, 23.12793],
            [114.19265, 23.12793],
            [114.19222, 23.12758]
        ];

        var block_BL_0001_warn1 = [
            //warn1
            [114.19954, 23.12285],
            [114.19993, 23.12283],
            [114.1997, 23.1227]
        ];
        var block_BL_0001_warn2 = [
            [114.20078, 23.12323],
            [114.2011, 23.12322],
            [114.20096, 23.12302]
        ];
        var block_BL_0001_warn3 = [
            //warn3
            [114.19257, 23.12829],
            [114.19306, 23.12841],
            [114.19334, 23.12833],
            [114.19292, 23.12827]
        ];
        var block_BL_0001_ng1 = [
            //notgood1
            [114.19974, 23.12343],
            [114.20059, 23.12316],
            [114.20021, 23.12289],
            [114.19987, 23.12308]
        ];
        var block_BL_0001_ng2 = [
            //notgood2
            [114.19935, 23.12244],
            [114.20003, 23.12227],
            [114.19943, 23.12211]
        ];

	    var Cell_BL_00010001 = [
            [114.19974, 23.12347], [114.20036, 23.12356], [114.2005, 23.12392], [114.20213, 23.12321],
            [114.20105, 23.12264], [114.19989, 23.12287]
		];
        var Cell_BL_00010002 = [
            [114.19989, 23.12287], [114.20105, 23.12264], [114.20111, 23.12221], [114.20105, 23.12193],
            [114.20047, 23.12205], [114.19982, 23.12235]

		];
        var Cell_BL_00010003 = [
            [114.1982, 23.1218], [114.19857, 23.12234], [114.19982, 23.12235], [114.20047, 23.12205], [114.19852, 23.12118]

		];
        var Cell_BL_00020001 = [
            [114.19189, 23.12921], [114.19278, 23.12945], [114.19372, 23.12843], [114.19216, 23.12827]
        ];
        var Cell_BL_00020002 = [
            [114.19163, 23.12834], [114.19216, 23.12827], [114.19372, 23.12843], [114.19288, 23.12779],
            [114.19295, 23.12729], [114.19259, 23.12709], [114.19273, 23.12677], [114.19208, 23.12647]
        ];
        var Cell_BL_00020003 = [
            [114.19354, 23.12983], [114.19365, 23.13013], [114.19442, 23.13009], [114.19512, 23.12992],
            [114.19444, 23.12902]
        ];


		var p_QX_16eg =[[132,47],
			[132.90018, 47.25785], [132.9018, 47.25842],[132.90273, 47.25875], [132.90368, 47.2591], [132.90463, 47.25945],
			[132.90528, 47.25969],[132.90681, 47.25771], [132.90811, 47.25603], [132.90854, 47.25547],[132.90788, 47.25522],
			[132.90694, 47.25489], [132.90594, 47.25457], [132.90503, 47.25422], [132.9041, 47.2539], [132.90335, 47.25364],
			[132.90288, 47.25427], [132.90161, 47.25596],[132.90097, 47.25679], [132.9017, 47.25703], [132.90261, 47.25734],
			[132.90234, 47.25619], [132.90326, 47.25651], [132.90422, 47.25682], [132.90518, 47.25715],  [132.90612, 47.25748],
			[132.90742, 47.2558], [132.90647, 47.25547], [132.90552, 47.25516], [132.90456, 47.25481], [132.90363, 47.2545]
		];
        var block_QX_16eg = [ [132.90018, 47.25784],  [132.90538, 47.25971],  [132.90859, 47.25544], [132.90336, 47.25366]];
        var Cell_QX_16eg = [block_QX_16eg,
			[p_QX_16eg[1], p_QX_16eg[2], p_QX_16eg[20],p_QX_16eg[18]],//1
            [p_QX_16eg[18],p_QX_16eg[19],p_QX_16eg[21],p_QX_16eg[17]],//2
			[p_QX_16eg[19],p_QX_16eg[20],p_QX_16eg[22],p_QX_16eg[21]],//3
			[p_QX_16eg[2], p_QX_16eg[3], p_QX_16eg[23],p_QX_16eg[22]],//4
			[p_QX_16eg[3], p_QX_16eg[4], p_QX_16eg[24],p_QX_16eg[23]],//5
            [p_QX_16eg[4], p_QX_16eg[5], p_QX_16eg[25],p_QX_16eg[24]],//6
            [p_QX_16eg[5], p_QX_16eg[6], p_QX_16eg[7], p_QX_16eg[25]],//7
			[p_QX_16eg[17],p_QX_16eg[21],p_QX_16eg[30],p_QX_16eg[16]],//8
			[p_QX_16eg[21],p_QX_16eg[22],p_QX_16eg[29],p_QX_16eg[30]],//9
			[p_QX_16eg[22],p_QX_16eg[23],p_QX_16eg[28],p_QX_16eg[29]],//10
            [p_QX_16eg[23],p_QX_16eg[24],p_QX_16eg[27],p_QX_16eg[28]],//11
			[p_QX_16eg[24],p_QX_16eg[25],p_QX_16eg[26],p_QX_16eg[27]],//12
			[p_QX_16eg[25],p_QX_16eg[7], p_QX_16eg[8], p_QX_16eg[26]],//13
			[p_QX_16eg[16],p_QX_16eg[30],p_QX_16eg[14],p_QX_16eg[15]],//14
			[p_QX_16eg[30],p_QX_16eg[29],p_QX_16eg[13],p_QX_16eg[14]],//15
            [p_QX_16eg[29],p_QX_16eg[28],p_QX_16eg[12],p_QX_16eg[13]],//16
            [p_QX_16eg[28],p_QX_16eg[27],p_QX_16eg[11],p_QX_16eg[12]],//17
			[p_QX_16eg[27],p_QX_16eg[26],p_QX_16eg[10],p_QX_16eg[11]],//18
			[p_QX_16eg[26],p_QX_16eg[8], p_QX_16eg[9], p_QX_16eg[10]]//19
        ];


        var p_QX_16 =[[132,47],
            [132.93743, 47.27091],[132.94499, 47.25488], [132.9457, 47.25257], [132.95189, 47.24791], [132.96302, 47.23959],//5
            [132.92302, 47.22718], [132.921, 47.22955], [132.90632, 47.22435], [132.91105, 47.21823], [132.88903, 47.2119],//10
            [132.88895, 47.21474], [132.88582, 47.21727], [132.87611, 47.2249], [132.87127, 47.22856], [132.87152, 47.23531],//15
            [132.87175, 47.24822], [132.87562, 47.24955], [132.88421, 47.2525], [132.89984, 47.25785], [132.92141, 47.26544],//20
            [132.93185, 47.25169], [132.93827, 47.24306], [132.91681, 47.23557], [132.91461, 47.23835], [132.90145, 47.23393],//25
            [132.89191, 47.23051], [132.8774, 47.23701], [132.88547, 47.23927], [132.8928, 47.24166], [132.8951, 47.24223],//30
            [132.90494, 47.24508], [132.90192, 47.24927], [132.90549, 47.25037], [132.90856, 47.24615], [132.90959, 47.24496],//35
            [132.90577, 47.24403]
        ];
        var block_QX_16 = [p_QX_16[14],p_QX_16[16],p_QX_16[1],p_QX_16[3],p_QX_16[5],p_QX_16[6],p_QX_16[7],p_QX_16[8], p_QX_16[9],p_QX_16[10],p_QX_16[11],p_QX_16[12]];
        var Cell_QX_16 = [
			[p_QX_16[12],p_QX_16[8],p_QX_16[9],p_QX_16[10],p_QX_16[11]],//0
            [p_QX_16[18],p_QX_16[19],p_QX_16[33],p_QX_16[32],p_QX_16[31],p_QX_16[29]],//1
			[p_QX_16[13],p_QX_16[24],p_QX_16[7],p_QX_16[12]],//2
			[p_QX_16[28],p_QX_16[29],p_QX_16[25],p_QX_16[26]],//3
			[p_QX_16[14],p_QX_16[15],p_QX_16[28],p_QX_16[26],p_QX_16[13]],//4
            [p_QX_16[17],p_QX_16[18],p_QX_16[29],p_QX_16[27]],//5
            [p_QX_16[19],p_QX_16[20],p_QX_16[21],p_QX_16[34]],//6
			[p_QX_16[34],p_QX_16[21],p_QX_16[22],p_QX_16[23]],//7
			[p_QX_16[23],p_QX_16[4],p_QX_16[5],p_QX_16[6]],//8
			[p_QX_16[21],p_QX_16[2],p_QX_16[3],p_QX_16[4],p_QX_16[22]],//9
            [p_QX_16[20],p_QX_16[1],p_QX_16[2],p_QX_16[21]],//10
			[p_QX_16[15],p_QX_16[16],p_QX_16[17],p_QX_16[27]]//11
        ];



        var area_ZJK=[
                    [114.91556, 40.83407], [114.9206, 40.82907], [114.93481, 40.82892], [114.9395, 40.81355],
                    [114.93997, 40.80289], [114.93163, 40.79631], [114.91875, 40.80021], [114.91501,40.80003]
                ];
        var p_ZJK_A =[
            [126.8969, 48.0806 ],//marker coordinate
            [114.9272, 40.82804],[114.92915, 40.82825],[ 114.92839, 40.82753 ],[ 114.92603, 40.8269],//4
            [114.93104, 40.82845],[114.92908, 40.82599],[114.92571, 40.82519],[114.929, 40.82898],//8
            [114.93463, 40.82889],[114.9324, 40.828]
        ];
        var block_ZJK_A = [ [114.9272, 40.82804],[114.92915, 40.82825],[114.929, 40.82898],[114.93463, 40.82889],
            [114.9324, 40.828],[114.93104, 40.82845],[114.92908, 40.82599],[114.92571, 40.82519],[ 114.92603, 40.8269]];
        var Cell_ZJK_A = [
            [p_ZJK_A[8],p_ZJK_A[9],p_ZJK_A[10],p_ZJK_A[5],p_ZJK_A[2]],
			[p_ZJK_A[2],p_ZJK_A[5],p_ZJK_A[10],p_ZJK_A[6],p_ZJK_A[3]],
            [p_ZJK_A[4],p_ZJK_A[3],p_ZJK_A[6],p_ZJK_A[7]],
            [p_ZJK_A[1],p_ZJK_A[2],p_ZJK_A[3],p_ZJK_A[4]]
        ];

        var area_ZG =[[126.26, 48.12], [127.6, 48.12], [127.6, 47.54], [126.26,47.54]];
        var p_ZG_A =[
            [126.8969, 48.0806 ],//marker coordinate
            [126.88798, 48.09334],[126.89705, 48.08987],[126.91361, 48.08336 ],[126.90547, 48.0781],//4
            [126.90072, 48.071 ],[126.89507, 48.07082],[126.88173, 48.07056],[126.87876, 48.08402],//8
            [126.8867, 48.08545],[126.88931, 48.08438],[126.89092, 48.08386],[126.88134, 48.07228],//12
            [126.90848, 48.07911],[126.88794, 48.08742]//14
        ];
        var block_ZG_A = [p_ZG_A[1],p_ZG_A[2],p_ZG_A[3],p_ZG_A[13],p_ZG_A[4],p_ZG_A[5],p_ZG_A[6],
            p_ZG_A[7],p_ZG_A[12],p_ZG_A[8],p_ZG_A[10],p_ZG_A[9],p_ZG_A[14]];
        var Cell_ZG_A = [
            [p_ZG_A[1],p_ZG_A[2],p_ZG_A[11],p_ZG_A[10],p_ZG_A[9],p_ZG_A[14]],
            [p_ZG_A[2],p_ZG_A[3],p_ZG_A[13],p_ZG_A[4],p_ZG_A[11]],
            [p_ZG_A[8],p_ZG_A[10],p_ZG_A[12]],
            [p_ZG_A[10],p_ZG_A[11],p_ZG_A[6],p_ZG_A[7],p_ZG_A[12]],
            [p_ZG_A[11],p_ZG_A[4],p_ZG_A[5],p_ZG_A[6]]
        ];
        var p_ZG_B =[
            [ 126.44993, 48.04765 ],//marker coordinate
            [ 126.44237, 48.04807],[ 126.44554, 48.0487],[126.45015, 48.0501 ],[ 126.45559, 48.05147 ],//4
            [ 126.44235, 48.04651],[ 126.44607, 48.04612],[126.45114, 48.04537],[126.45737, 48.04428]
        ];
        var block_ZG_B = [p_ZG_B[1],p_ZG_B[2],p_ZG_B[3],p_ZG_B[4],p_ZG_B[8],p_ZG_B[7],p_ZG_B[6],p_ZG_B[5]];
        var Cell_ZG_B = [
            [p_ZG_B[1],p_ZG_B[2],p_ZG_B[6],p_ZG_B[5]],
            [p_ZG_B[2],p_ZG_B[3],p_ZG_B[7],p_ZG_B[6]],
            [p_ZG_B[3],p_ZG_B[4],p_ZG_B[8],p_ZG_B[7]]
        ];

		var area_XJ =[[87.30045, 43.92108],[87.32227, 43.91261],[87.30791, 43.88506],[87.30213, 43.88718]];
        var p_XJ_A =[
            [],//marker coordinate
            [87.30196, 43.90481],[87.30434, 43.90483],[87.3019, 43.90048],[87.30982, 43.904251],//4
            [87.31095, 43.90375],[87.30879, 43.8999],[87.31384, 43.90316],[87.3119, 43.8996],[ 87.30158, 43.90432]
        ];
        var block_XJ_A = [p_XJ_A[1],p_XJ_A[2],p_XJ_A[4],p_XJ_A[5],p_XJ_A[7],p_XJ_A[8],p_XJ_A[6],p_XJ_A[3],p_XJ_A[9]];
        var Cell_XJ_A = [
            [p_XJ_A[1],p_XJ_A[2],p_XJ_A[3],p_XJ_A[9]],
            [p_XJ_A[2],p_XJ_A[4],p_XJ_A[5],p_XJ_A[6],p_XJ_A[3]],
            [p_XJ_A[5],p_XJ_A[7],p_XJ_A[8],p_XJ_A[6]]
        ];

        var egbl = [[114.19984, 23.12434],[114.19984, 23.12205],[114.20219, 23.12205],[114.20219, 23.12434]];

        // 3-2.Create a symbol for rendering the graphic
        // 3-3.Add the geometry and symbol to a new graphic

        // 3-4.Add the graphic to the view
        function add_polygon_area(cur_area){
            var fillSymbol_area = new SimpleFillSymbol({
                color: [255, 127, 36, 0.5],
                outline: {
                    color: [255, 255, 255],
                    width: 1
                }
            });
            var temp_polygon_area = new Polygon({
                rings: [cur_area]
            });
            var temp_polygonGraphic_area = new Graphic({
                geometry: temp_polygon_area,
                symbol: fillSymbol_area
            });
            mainView.graphics.removeAll();
            mainView.graphics.add(temp_polygonGraphic_area);
        }

        function add_polygon_block(cur_block){
            var fillSymbol_block = new SimpleFillSymbol({
                color: [0, 191, 255, 0.2],
                outline: {
                    color: [65, 105, 225],
                    width: 2
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block
            });
            mainView.graphics.removeAll();
            mainView.graphics.add(temp_polygonGraphic_block);
        }
       function add_polygon_block_noclear(cur_block){
            var fillSymbol_block = new SimpleFillSymbol({
                color: [0, 191, 255, 0.2],
                outline: {
                    color: [65, 105, 225],
                    width: 2
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block
            });
            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function add_polygon_block_nocolor(cur_block){
            var fillSymbol_block_nocolor = new SimpleFillSymbol({
                color: [0, 0, 0, 0],
                outline: {
                    color: [65, 105, 225],
                    width: 2
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block_nocolor
            });
            mainView.graphics.removeAll();
            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function add_polygon_block_warn(cur_block){
            var fillSymbol_block_warn = new SimpleFillSymbol({
                color: [255, 0, 0, 0.5],
                outline: {
                    color: [255, 0, 0],
                    width: 2
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block_warn
            });

            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function add_polygon_block_ng(cur_block){
            var fillSymbol_block_warn = new SimpleFillSymbol({
                color: [255, 255, 0, 0.5],
                outline: {
                    color: [255, 255, 0],
                    width: 2
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block_warn
            });

            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function add_polygon_block_ok(cur_block){
            var fillSymbol_block_warn = new SimpleFillSymbol({
                color: [10, 255, 10, 0.3],
                outline: {
                    color: [255, 255, 255],
                    width: 2
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block_warn
            });

            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function remove_polygon_all(){
            mainView.graphics.removeAll();
        }
        function add_polygon_block_500(cur_block){
            var fillSymbol_block_warn = new SimpleFillSymbol({
                color: [255, 255, 0, 0.5],
                outline: {
                    color: [255, 255, 0],
                    width: 3
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block_warn
            });

            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function add_polygon_block_800(cur_block){
            var fillSymbol_block_warn = new SimpleFillSymbol({
                color: [255,130,71, 0.5],
                outline: {
                    color: [255,130,71],
                    width: 3
                }
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block_warn
            });

            mainView.graphics.add(temp_polygonGraphic_block);
        }
        function add_polygon_Cell(cur_block,cur_Cell,area,block,Cell){
            var fillSymbol_Cell = new SimpleFillSymbol({
                color: [0, 255, 127, 0.2],
                outline: {
                    color: [0, 255, 127],
                    width: 1
                }
            });
            var fillSymbol_block = new SimpleFillSymbol({
                color: [0, 0, 0, 0],
                outline: {
                    color: [65, 105, 225],
                    width: 2
                }
            });
            var temp_polygon_Cell = new Polygon({
                rings: [cur_Cell]
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var trees = Math.round(Math.random()*1000)+1500;
            var ill_trees = Math.round(Math.random()*10);
            var pertemp = Math.round((ill_trees/trees)*100)/100;
            var nwp = cur_Cell[0],sep = cur_Cell[2];
            //alert(nwp+"|"+nwp[0]+","+nwp[1]);
            var attr_Cell = {
                Area: area,
                Block: block,
                Cell: Cell,
                Tree_name: "棕榈树",
                Tree_count: trees,
                Ill_Tree_count: ill_trees,
                ILL_percent: pertemp+"%",
                north:Math.round(nwp[1]*10000)/10000,
                south:Math.round(sep[1]*10000)/10000,
                west:Math.round(nwp[0]*10000)/10000, 
                east:Math.round(sep[0]*10000)/10000
            };

            var popupTemp_Cell = {
                title: "{Area}地块{Block}区域{Cell}",
                content: "<h5>树种：{Tree_name}</h5>" +
                "<h5>程度：{Tree_count}</h5>" +
                "<h5>病数：{Ill_Tree_count}</h5>" +
                "<h5>比例：{ILL_percent}</h5>" +
                "<h5>经度范围：{west} —— {east}</h5>" +
                "<h5>纬度范围：{south} —— {north}</h5>"
            };
            var temp_polygonGraphic_Cell = new Graphic({
                geometry: temp_polygon_Cell,
                symbol: fillSymbol_Cell,
                attributes: attr_Cell,
                popupTemplate: popupTemp_Cell
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block
            });
            mainView.graphics.removeAll();
            mainView.graphics.add(temp_polygonGraphic_block);
            mainView.graphics.add(temp_polygonGraphic_Cell);
        }


        function add_polygon_Cell_a(cur_block,cur_Cell,stat,sq,illsq,area,block,Cell){
            var fillSymbol_Cell_ok = new SimpleFillSymbol({
                color: [0, 255, 127, 0.6],
                outline: {
                    color: [0, 255, 127],
                    width: 1
                }
            });
            var fillSymbol_Cell_ng = new SimpleFillSymbol({
                color: [255, 255, 0, 0.6],
                outline: {
                    color: [255, 255, 0],
                    width: 1
                }
            });
            var fillSymbol_Cell_warn = new SimpleFillSymbol({
                color: [255, 128, 0, 0.6],
                outline: {
                    color: [255, 128, 0],
                    width: 1
                }
            });
            var fillSymbol_Cell_danger = new SimpleFillSymbol({
                color: [255, 0, 0, 0.6],
                outline: {
                    color: [255, 0, 0],
                    width: 1
                }
            });
            var fillSymbol_block = new SimpleFillSymbol({
                color: [127, 255, 127, 0.4],
                outline: {
                    color: [255, 255, 255],
                    width: 2
                }
            });

            var temp_polygon_Cell = new Polygon({
                rings: [cur_Cell]
            });
            var temp_polygon_block = new Polygon({
                rings: [cur_block]
            });
            var trees = Math.round(sq*0.015);
            var ill_trees = Math.round(illsq*0.015);
            var pertemp = Math.round((ill_trees/trees)*10000)/100;
            var fillSymbol_Cell;
            if(pertemp>=70){
                fillSymbol_Cell = fillSymbol_Cell_danger
            }
            else if(pertemp >= 50){
                fillSymbol_Cell = fillSymbol_Cell_warn
            }
            else if(pertemp >= 30){
                fillSymbol_Cell = fillSymbol_Cell_ng
            }
            else{
                fillSymbol_Cell = fillSymbol_Cell_ok
            }
            var nwp = cur_Cell[0],sep = cur_Cell[2];
            //alert(nwp+"|"+nwp[0]+","+nwp[1]);
            var attr_Cell = {
                Area: area,
                Block: block,
                Cell: Cell,
                Tree_name: "水稻",
                Tree_count: trees,
                Ill_Tree_count: ill_trees,
                ILL_percent: pertemp+"%",
                north:Math.round(nwp[1]*10000)/10000,
                south:Math.round(sep[1]*10000)/10000,
                west:Math.round(nwp[0]*10000)/10000,
                east:Math.round(sep[0]*10000)/10000
            };

            var popupTemp_Cell = {
                title: "{Area}地块{Block}区域{Cell}",
                content: "<h5>作物：{Tree_name}</h5>" +
                "<h5>单元面积：{Tree_count}亩</h5>" +
                "<h5>异常面积：{Ill_Tree_count}亩</h5>" +
                "<h5>比例：{ILL_percent}</h5>" +
                "<h5>经度范围：{west} —— {east}</h5>" +
                "<h5>纬度范围：{south} —— {north}</h5>"
            };
            var temp_polygonGraphic_Cell = new Graphic({
                geometry: temp_polygon_Cell,
                symbol: fillSymbol_Cell,
                attributes: attr_Cell,
                popupTemplate: popupTemp_Cell
            });
            var temp_polygonGraphic_block = new Graphic({
                geometry: temp_polygon_block,
                symbol: fillSymbol_block
            });
            mainView.graphics.removeAll();
            mainView.graphics.add(temp_polygonGraphic_block);
            mainView.graphics.add(temp_polygonGraphic_Cell);
        }



        var QD_laoshan = [
            [120.565922,36.328220], [120.652012,36.297070], [120.623926,36.270324], [120.678302,36.230180],
            [120.717293,36.139106], [120.499229,36.087006], [120.480369,36.108011], [120.510335,36.208761],
            [120.483712,36.215844], [120.508592,36.253570], [120.562989,36.257270], [120.580168,36.290823],
            [120.567139,36.315697]
        ];
        var QD_laoshanlinchang = [
            [120.481798,36.161822], [120.492994,36.149485], [120.483914,36.148843], [120.474717,36.154014],
            [120.463439,36.150021], [120.459831,36.145471], [120.446345,36.142356], [120.435689,36.142255],
            [120.436728,36.147851], [120.452208,36.156489], [120.478809,36.162677]
        ];
        var QD_chengyang = [
            [120.530542,36.332246], [120.566961,36.320066], [120.577101,36.304014], [120.579894,36.289140],
            [120.570940,36.272302], [120.572867,36.268659], [120.562584,36.257172], [120.507384,36.252938],
            [120.483943,36.214915], [120.464236,36.200724], [120.453082,36.200411], [120.424209,36.219106]
        ];
        var QD_huangdao = [
            [120.056561,36.066085], [120.147052,36.053939], [120.146143,35.942874], [120.098020,35.904076],
            [120.057500,35.897578], [120.012352,35.922923], [119.918050,35.872870], [120.023144,35.784238],
            [120.008639,35.712475], [119.854512,35.827448], [119.732199,35.757106], [119.835380,35.952406]
        ];
        var QD_jimo = [
            [120.520617,36.389900], [120.737238,36.520746], [120.842141,36.608768], [120.981388,36.545572],
            [120.875527,36.369782], [120.801856,36.498880], [120.689530,36.378612], [120.741810,36.328399],
            [120.556402,36.327058]
        ];


        var QD_laoshan500 = [
            [120.565922,36.328220,500], [120.652012,36.297070,500], [120.623926,36.270324,500], [120.678302,36.230180,500],
            [120.717293,36.139106,500], [120.499229,36.087006,500], [120.480369,36.108011,500], [120.510335,36.208761,500],
            [120.483712,36.215844,500], [120.508592,36.253570,500], [120.562989,36.257270,500], [120.580168,36.290823,500],
            [120.567139,36.315697,500]
        ];
        var QD_laoshan600 = [
            [120.565922,36.328220,600], [120.652012,36.297070,600], [120.623926,36.270324,600], [120.678302,36.230180,600],
            [120.717293,36.139106,600], [120.499229,36.087006,600], [120.480369,36.108011,600], [120.510335,36.208761,600],
            [120.483712,36.215844,600], [120.508592,36.253570,600], [120.562989,36.257270,600], [120.580168,36.290823,600],
            [120.567139,36.315697,600]
        ];
        var QD_huangdao650 = [
            [120.056561,36.066085,650], [120.147052,36.053939,650], [120.146143,35.942874,650], [120.098020,35.904076,650],
            [120.057500,35.897578,650], [120.012352,35.922923,650], [119.918050,35.872870,650], [120.023144,35.784238,650],
            [120.008639,35.712475,650], [119.854512,35.827448,650], [119.732199,35.757106,650], [119.835380,35.952406,650]
        ];
        var QD_laoshan800 = [
            [120.565922,36.328220,800], [120.652012,36.297070,800], [120.623926,36.270324,800], [120.678302,36.230180,800],
            [120.717293,36.139106,800], [120.499229,36.087006,800], [120.480369,36.108011,800], [120.510335,36.208761,800],
            [120.483712,36.215844,800], [120.508592,36.253570,800], [120.562989,36.257270,800], [120.580168,36.290823,800],
            [120.567139,36.315697,800]
        ];
        var QD_huangdao800 = [
            [120.056561,36.066085,800], [120.147052,36.053939,800], [120.146143,35.942874,800], [120.098020,35.904076,800],
            [120.057500,35.897578,800], [120.012352,35.922923,800], [119.918050,35.872870,800], [120.023144,35.784238,800],
            [120.008639,35.712475,800], [119.854512,35.827448,800], [119.732199,35.757106,800], [119.835380,35.952406,800]
        ];


        var QD_Airport = [
            [120.25143,36.40186], [120.40122,36.43397], [120.49908,36.13297], [120.34602,36.09826]
        ];
        var QD_Airport1 = [
            [120.25143, 36.40186,0], [120.40122, 36.43397,0], [120.37471, 36.26666,10000]
        ];
        var QD_Airport2 = [
            [120.40122, 36.43397,0], [120.49908, 36.13297,0], [120.37471, 36.26666,10000]
        ];
        var QD_Airport3 = [
            [120.49908, 36.13297,0], [120.37471, 36.26666,10000], [120.34602, 36.09826,0]
        ];
        var QD_Airport4 = [
            [120.34602, 36.09826,0], [120.37471, 36.26666,10000], [120.25143, 36.40186,0]
        ];

        var area_Hulbr = [[],[],[],[]];
        var Hulbr_T = [
           [120.07245, 49.58269], [119.89758, 49.51155], [120.12378, 49.44103], [120.14865, 49.34821], [120.36725, 49.32732],  [120.46371, 49.46929],
                 [120.76697, 49.65737],  [120.63626, 49.71756],  [120.53262, 49.61698],  [120.22015, 49.56395]
        ];
        var Hulbr_X = [
			[119.8371, 49.37238], [119.89758, 49.51155], [120.12378, 49.44103], [120.14865, 49.34821], [120.20254, 49.29668],
			[120.1571, 49.19456], [120.09322, 49.19692], [120.04235, 49.26148], [119.86629, 49.28059]
        ];
        var Hulbr_X_01 = [
            [120.10229, 49.28213], [120.12448, 49.28228], [120.12145, 49.30233], [120.12915, 49.30368], [120.16373, 49.30282],
            [120.16721, 49.29819], [120.18127, 49.30053], [120.19518, 49.29867], [120.19893, 49.28847], [120.16717, 49.26126],
            [120.1393, 49.25947], [120.13327, 49.27679], [120.105, 49.27357]
        ];
        var Hulbr_X_01_ng_01 = [
            [120.13643, 49.27924], [120.14499, 49.28059], [120.14537, 49.27992], [120.14502, 49.27944], [120.13684, 49.27809]
        ];
        var Hulbr_X_01_ng_02 = [
            [120.13701, 49.27221], [120.13734, 49.27278], [120.13818, 49.2726], [120.13837, 49.27186], [120.138, 49.27153],
            [120.13713, 49.27181]
        ];
        var Hulbr_X_01_ng_03 = [
            [120.17155, 49.27458], [120.17224, 49.27488], [120.17276, 49.27466], [120.17289, 49.27402], [120.17243, 49.27378],
            [120.17164, 49.27409]
        ];
        var Hulbr_X_01_ng_04 = [
            [120.16012, 49.27244],  [120.16095, 49.27242], [120.16118, 49.27184], [120.16039, 49.27161]
        ];
        var Hulbr_X_01_ng_05 = [
            [120.1633, 49.27321],  [120.16415, 49.27363],  [120.16488, 49.27374], [120.16513, 49.27289], [120.16402, 49.27278]
        ];
        var Hulbr_X_01_ng_06 = [
            [120.17402, 49.27533], [120.17433, 49.27573], [120.17535, 49.27582], [120.17601, 49.27554], [120.17622, 49.27501],
            [120.17547, 49.27449], [120.17413, 49.27499]
        ];
        var Hulbr_X_01_warn_01 = [
            [120.13583, 49.27564], [120.13735, 49.27607], [120.13783, 49.27527], [120.13742, 49.27457], [120.13599, 49.27534]
        ];
        var Hulbr_X_01_warn_02 = [
            [120.16607, 49.27521], [120.16791, 49.27513], [120.16822, 49.27413], [120.16772, 49.2738], [120.16644, 49.27433]
        ];
        var Hulbr_X_02 = [
			[120.08365, 49.21532], [120.08618, 49.22488], [120.09692, 49.23284], [120.10468, 49.23314], [120.12356, 49.22719],
			[120.13205, 49.23155], [120.13873, 49.23137], [120.15146, 49.2263], [120.15416, 49.21162], [120.14757, 49.21002],
            [120.14983, 49.20379], [120.13146, 49.19925], [120.1112, 49.19688], [120.09793, 49.19829]
        ];
        var Hulbr_X_02_ng_01 = [
            [120.12555, 49.22227], [120.13963, 49.22456], [120.14218, 49.21414],  [120.12796, 49.21266]
        ];
        var Hulbr_X_02_warn_01 = [
             [120.12909, 49.21269], [120.13593, 49.2134],   [120.13834, 49.20433], [120.13153, 49.20367]
        ];
        var Hulbr_X_03 = [
			[119.99632, 49.31827], [119.99754, 49.32092], [120.04242, 49.33583], [120.07303, 49.29549],
			[120.04149, 49.28475], [120.03449, 49.28536], [120.01686, 49.29166]
        ];
        var Hulbr_X_03_ng_01 = [
            [120.03296, 49.32354], [120.03587, 49.32448], [120.03829, 49.32092], [120.03535, 49.31996]
        ];
        var Hulbr_X_03_ng_02 = [
            [120.04237, 49.31849], [120.05224, 49.32188], [120.05495, 49.31843], [120.04492, 49.31513]
        ];
        var Hulbr_X_03_ng_03 = [
            [120.03508, 49.29518], [120.0451, 49.29855], [120.04575, 49.2977], [120.0356, 49.2944]
        ];
        var Hulbr_X_03_warn_01 = [
            [120.03538, 49.3199], [120.04015, 49.3215], [120.04218, 49.31856], [120.03744, 49.31696]
        ];
        var Hulbr_X_03_warn_02 = [
            [120.03197, 49.29818], [120.04256, 49.30173], [120.0451, 49.29855], [120.03508, 49.29518], [120.03427, 49.29651]
        ];


        var DL_Airport = [
            [121.37408, 39.02745], [121.72805, 39.00277],  [121.72448, 38.90244], [121.33423, 38.93376]
        ];
        var DL_Airport1 = [//wn-en
            [121.37408, 39.02745,0], [121.72805, 39.00277,0],  [121.53291, 38.96847,10000]
        ];
        var DL_Airport2 = [//en-es
            [121.72805, 39.00277,0],  [121.53291, 38.96847,10000], [121.72448, 38.90244,0]
        ];
        var DL_Airport3 = [//es-ws
          [121.53291, 38.96847,10000],[121.72448, 38.90244,0], [121.33423, 38.93376,0]
        ];
        var DL_Airport4 = [//wn-ws
            [121.37408, 39.02745,0], [121.33423, 38.93376,0],[121.53291, 38.96847,10000]
        ];
        var DL_jinpu = [
            [122.0714, 39.17684 ],[122.16326, 39.15423],[122.04496, 39.10461],[ 122.07068, 39.0647],[122.01312,39.07882],
            [121.96199, 39.02956],[121.9047, 39.07652 ],[121.78779, 39.06699],[121.73733, 39.09053],[121.5829, 39.18489],
            [121.5819, 39.28072 ],[121.72509, 39.32587],[121.61138, 39.37139],[121.64076, 39.51001],[121.8398, 39.56408],
            [122.08595, 39.42333],[122.08512, 39.32369],[121.94032, 39.35212],[121.93396, 39.35276],[121.9141, 39.12478]
        ];
        var DL_jinpu500 = [
            [122.0714, 39.17684 ,500],[122.16326, 39.15423,500],[122.04496, 39.10461,500],[ 122.07068, 39.0647,500],[122.01312,39.07882,500],
            [121.96199, 39.02956,500],[121.9047, 39.07652 ,500],[121.78779, 39.06699,500],[121.73733, 39.09053,500],[121.5829, 39.18489,500],
            [121.5819, 39.28072 ,500],[121.72509, 39.32587,500],[121.61138, 39.37139,500],[121.64076, 39.51001,500],[121.8398, 39.56408,500],
            [122.08595, 39.42333,500],[122.08512, 39.32369,500],[121.94032, 39.35212,500],[121.93396, 39.35276,500],[121.9141, 39.12478,500]
        ];
        var DL_jinpu800 = [
            [122.0714, 39.17684 ,800],[122.16326, 39.15423,800],[122.04496, 39.10461,800],[ 122.07068, 39.0647,800],[122.01312,39.07882,800],
            [121.96199, 39.02956,800],[121.9047, 39.07652 ,800],[121.78779, 39.06699,800],[121.73733, 39.09053,800],[121.5829, 39.18489,800],
            [121.5819, 39.28072 ,800],[121.72509, 39.32587,800],[121.61138, 39.37139,800],[121.64076, 39.51001,800],[121.8398, 39.56408,800],
            [122.08595, 39.42333,800],[122.08512, 39.32369,800],[121.94032, 39.35212,800],[121.93396, 39.35276,800],[121.9141, 39.12478,800]
        ];
        var DL_Maincity = [
            [ 121.54001, 38.91778], [ 121.55491, 38.91047],[ 121.57849, 38.89392],[121.59362, 38.89567],[121.62699, 38.9081],
            [121.70242, 38.91248],[121.71669, 38.90483], [121.70352, 38.86839], [121.65529, 38.86077], [121.61184, 38.86381],
            [121.58828, 38.87472], [121.56226, 38.88612], [ 121.53847, 38.88843]
        ];
        var DL_Maincity500 = [
            [ 121.54001, 38.91778,500], [ 121.55491, 38.91047,500],[ 121.57849, 38.89392,500],[121.59362, 38.89567,500],[121.62699, 38.9081,500],
            [121.70242, 38.91248,500],[121.71669, 38.90483,500], [121.70352, 38.86839,500], [121.65529, 38.86077,500], [121.61184, 38.86381,500],
            [121.58828, 38.87472,500], [121.56226, 38.88612,500], [ 121.53847, 38.88843,500]
        ];
        var DL_Ganjingzi = [
            [121.49311, 38.98192],[121.64181, 39.03475],[121.64198, 39.08063],[121.54291, 39.05495],[121.46589, 39.02092],
            [121.43704, 38.98168],[121.34789, 38.93934],[121.37591, 38.9275],[121.38355, 38.90403],[121.42984, 38.8971],
            [121.44543, 38.8782],[121.48707, 38.87658],[121.52763, 38.88815],[121.53762, 38.89507],[121.54162, 38.93799],
            [121.47734, 38.9586]
        ];
        var DL_Ganjingzi500 = [
            [121.49311, 38.98192,500],[121.64181, 39.03475,500],[121.64198, 39.08063,500],[121.54291, 39.05495,500],[121.46589, 39.02092,500],
            [121.43704, 38.98168,500],[121.34789, 38.93934,500],[121.37591, 38.9275,500],[121.38355, 38.90403,500],[121.42984, 38.8971,500],
            [121.44543, 38.8782,500],[121.48707, 38.87658,500],[121.52763, 38.88815,500],[121.53762, 38.89507,500],[121.54162, 38.93799,500],
            [121.47734, 38.9586,500]
        ];
        var DL_Gaoxin = [
            [121.348096,38.939181],[121.376349,38.927147],[121.383649,38.903476],[121.430303,38.896856],[121.445723,38.878174],
            [121.487207,38.876542],[121.513698,38.874559],[121.502312,38.841429],[121.473530,38.818085],[121.424064,38.810555],
            [121.336182,38.822852],[121.315105,38.900416]
        ];
        var DL_Gaoxin500 = [
            [121.348096,38.939181,500],[121.376349,38.927147,500],[121.383649,38.903476,500],[121.430303,38.896856,500],[121.445723,38.878174,500],
            [121.487207,38.876542,500],[121.513698,38.874559,500],[121.502312,38.841429,500],[121.473530,38.818085,500],[121.424064,38.810555,500],
            [121.336182,38.822852,500],[121.315105,38.900416,500]
        ];
        var DL_Lvshunkou = [
            [121.338019,38.821489],[121.301945,38.893443],[121.196617,38.910221],[121.151128,38.961505],[121.101594,38.939992],
            [121.081764,38.897012],[121.111902,38.837338],[121.107481,38.775740],[121.131441,38.725927],[121.197012,38.720888],
            [121.254927,38.791928]
        ];
        var DL_Lvshunkou500 = [
            [121.338019,38.821489,500],[121.301945,38.893443,500],[121.196617,38.910221,500],[121.151128,38.961505,500],[121.101594,38.939992,500],
            [121.081764,38.897012,500],[121.111902,38.837338,500],[121.107481,38.775740,500],[121.131441,38.725927,500],[121.197012,38.720888,500],
            [121.254927,38.791928,500]
        ];
        var DL_Changhai = [
             [123.06228, 39.62349], [123.27227, 39.01569], [122.73478, 38.9971],  [122.24994, 39.164], [122.2811, 39.20866]
        ];
        var DL_Changhai1 = [
            [122.534947,39.317433],[122.286992,39.207481],[122.317062,39.136253],[122.840495,39.224880],[122.632548,39.302451]
        ];
        var DL_Changhai2 = [
             [122.70472, 39.0249], [122.693467,39.052120],[122.810760,39.090087],[122.891766,39.069438],[122.877886,39.042673],
            [122.763318,39.004781],[122.72544, 39.01228]
        ];
        var DL_Changhai3 = [
            [122.970926,39.575475],[122.919113,39.517977],[123.087304,39.408682],[123.127643,39.526319]
        ];
        var DL_Changhai4 = [
            [123.13316, 39.08793],  [123.18322, 39.10889], [123.22481, 39.03771],  [123.13881, 39.02288]
        ];

        mainView.then(function() {

        });

        // Create the MapView for overview map
        var mapView = new MapView({
            container: "overviewDiv",
            map: overviewMap
        });

        // Remove the default widgets
        mapView.ui.components = [];

        var extentDiv = dom.byId("extentDiv");

        mapView.then(function() {
            // Update the overview extent whenever the MapView or SceneView extent changes
            mainView.watch("extent", updateOverviewExtent);
            mapView.watch("extent", updateOverviewExtent);

            // Update the minimap overview when the main view becomes stationary
            watchUtils.when(mainView, "stationary", updateOverview);

            function updateOverview() {
                // Animate the MapView to a zoomed-out scale so we get a nice overview.
                // We use the "progress" call back of the goTo promise to update
                // the overview extent while animating
                mapView.goTo({
                    center: mainView.center,
                    scale: mainView.scale * 2 * Math.max(mainView.width /
                        mapView.width,
                        mainView.height / mapView.height)
                });
            }

            function updateOverviewExtent() {
                // Update the overview extent by converting the SceneView extent to the
                // MapView screen coordinates and updating the extentDiv position.
                var extent = mainView.extent;

                var bottomLeft = mapView.toScreen(extent.xmin, extent.ymin);
                var topRight = mapView.toScreen(extent.xmax, extent.ymax);

                extentDiv.style.top = topRight.y + "px";
                extentDiv.style.left = bottomLeft.x + "px";

                extentDiv.style.height = (bottomLeft.y - topRight.y) + "px";
                extentDiv.style.width = (topRight.x - bottomLeft.x) + "px";
            }
        });
        // Create a BasemapGallery widget instance and set
        // its container to a div element

        var basemapGallery = new BasemapGallery({
            view: mainView,
            container: document.createElement("div")
        });

        // Create an Expand instance and set the content
        // property to the DOM node of the basemap gallery widget
        // Use an Esri icon font to represent the content inside
        // of the Expand widget

        var bgExpand = new Expand({
            view: mainView,
            content: basemapGallery.domNode,
            expandIconClass: "esri-icon-basemap"
        });

        // Add the expand instance to the ui

        mainView.ui.add(bgExpand, "top-right");

        //***********Boluo*************

        on(dojo.query("#Demo_Area_Boluo_loc"), "click", function() {
            mainView.goTo({position: [114.197,23.0752,2000], heading: 0, tilt: 70});
            add_polygon_block(area_BL);
        });
		on(dojo.query("#Demo_Block_Boluo_A_outline"), "click", function() {
            mainView.goTo({position: [114.19026, 23.12347,500], heading: 90, tilt: 70});
            add_polygon_block(block_BL_0001);
            add_polygon_block_warn(block_BL_0001_warn1);
            add_polygon_block_warn(block_BL_0001_warn2);
            add_polygon_block_ng(block_BL_0001_ng1);
            add_polygon_block_ng(block_BL_0001_ng2);
        });
        on(dojo.query("#Demo_Block_Boluo_B_outline"), "click", function() {
            mainView.goTo({position: [114.20142, 23.12236,500], heading: 305, tilt: 70});
            add_polygon_block(block_BL_0002);
            add_polygon_block_warn(block_BL_0002_warn1);
            add_polygon_block_warn(block_BL_0002_warn2);
            add_polygon_block_warn(block_BL_0002_warn3);
            add_polygon_block_ng(block_BL_0002_ng1);
            add_polygon_block_ng(block_BL_0002_ng2);
        });

        on(dojo.query("#Demo_Cell_Boluo_A_01_loc"), "click", function() {
            mainView.goTo({position: [114.20075, 23.12321,500], heading: 0, tilt: 0});
            add_polygon_Cell(block_BL_0001,Cell_BL_00010001,"博罗县罗阳镇","A","01");
            show_Cell_info('A01');
            add_ill_tree(114.201, 23.12307);
            add_ill_tree(114.20057, 23.12306);
            add_ill_tree(114.19991, 23.12343);
            add_ill_tree(114.20025, 23.12305);
            add_ill_tree(114.20058, 23.12373);
            add_ill_tree(114.20084, 23.12343);
            add_ill_tree(114.20076, 23.12274);
        });
        on(dojo.query("#Demo_Cell_Boluo_A_02_loc"), "click", function() {
            mainView.goTo({position: [114.20046, 23.12244,500], heading: 0, tilt: 0});
            add_polygon_Cell(block_BL_0001,Cell_BL_00010002,"博罗县罗阳镇","A","02");
            show_Cell_info('A02');
            add_ill_tree(114.19987, 23.12238);
            add_ill_tree(114.20029, 23.12267);
            add_ill_tree(114.20091, 23.12235);
        });
        on(dojo.query("#Demo_Cell_Boluo_A_03_loc"), "click", function() {
            mainView.goTo({position: [114.1992, 23.12193 ,500], heading: 0, tilt: 0});
            add_polygon_Cell(block_BL_0001,Cell_BL_00010003,"博罗县罗阳镇","A","03");
            show_Cell_info('A03');
            add_ill_tree(114.19856, 23.1218);
        });

        on(dojo.query("#Demo_Cell_Boluo_B_01_loc"), "click", function() {
            mainView.goTo({position: [114.1927, 23.12885 ,500], heading: 0, tilt: 0});
            add_polygon_Cell(block_BL_0002,Cell_BL_00020001,"博罗县罗阳镇","B","01");
            show_Cell_info('B01');
            add_ill_tree(114.19265, 23.12909);
        });
        on(dojo.query("#Demo_Cell_Boluo_B_02_loc"), "click", function() {
            mainView.goTo({position: [114.19235, 23.12759 ,500], heading: 0, tilt: 0});
            add_polygon_Cell(block_BL_0002,Cell_BL_00020002,"博罗县罗阳镇","B","02");
            show_Cell_info('B02');
            add_ill_tree(114.19176, 23.12826);
            add_ill_tree(114.19192, 23.12826);
            add_ill_tree(114.19213, 23.1282);
        });
        on(dojo.query("#Demo_Cell_Boluo_B_03_loc"), "click", function() {
            mainView.goTo({position: [114.19417, 23.12981 ,500], heading: 0, tilt: 0});
            add_polygon_Cell(block_BL_0002,Cell_BL_00020003,"博罗县罗阳镇","B","03");
            show_Cell_info('B03');
            add_ill_tree(114.19393, 23.12998);
            add_ill_tree(114.19415, 23.12978);
            add_ill_tree(114.19452, 23.12952);
            add_ill_tree(114.19461, 23.12989);
            add_ill_tree(114.1945, 23.12967);
            add_ill_tree(114.19436, 23.12911);
        });


        on(dojo.query("#Demo_Area_Zhangjk_loc"), "click", function() {
            mainView.goTo({position: [114.92863,40.7802,2000], heading: 0, tilt: 70});
            add_polygon_area(area_ZJK);
        });
        on(dojo.query("#Demo_Area_Zhaoguang_loc"), "click", function() {
            mainView.goTo({position: [126.927,46.4672,50000], heading: 0, tilt: 70});
            add_polygon_area(area_ZG);
        });
        on(dojo.query("#Demo_Area_Xinjiang_loc"), "click", function() {
            mainView.goTo({position: [87.3060,43.8646,2000], heading: 0, tilt: 70});
            add_polygon_area(area_XJ);
        });
        on(dojo.query("#Demo_Area_Qingdao_loc"), "click", function() {
            mainView.goTo({position: [ 120.46459, 35.65695,20000], heading: 0, tilt: 70});
            //add_polygon_area(area_QD);
        });
        on(dojo.query("#Demo_Area_Chongqing_loc"), "click", function() {
            mainView.goTo({position: [ 106.54648, 29.25846,5000], heading: 0, tilt: 70});
            //add_polygon_area(area_CQ);
        });

        on(dojo.query("#Demo_Area_Qixing_16eg_outline"), "click", function() {
            add_polygon_block(block_QX_16eg);
            mainView.goTo({position: [132.90393, 47.25628,2000], heading: 0, tilt: 0});
        });
		on(dojo.query("#Demo_Area_Qixing_16eg"), "click", function() {
            add_polygon_block_nocolor(block_QX_16eg);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_01_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[1],1,19261,10714);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_02_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[2],4,6353,3888);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_03_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[3],2,8323,771);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_04_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[4],2,18986,12379);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_05_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[5],4,19154,5736);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_06_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[6],4,19338,896);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_07_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[7],3,13704,1533);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_08_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[8],1,13312,6190);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_09_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[9],1,16719,8768);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_10_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[10],1,16919,8065);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_11_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[11],1,16799,8135);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_12_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[12],1,16819,13786);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_13_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[13],1,11789,5518);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_14_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[14],1,4832,2470);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_15_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[15],1,5905,3397);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_16_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[16],1,5805,3398);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_17_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[17],3,6005,417);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_18_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[18],1,5955,4540);
        });
        on(dojo.query("#Demo_Cell_Qixing_16eg_19_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16eg,Cell_QX_16eg[19],1,4119,1589);
        });
        
        on(dojo.query("#Demo_Area_Qixing_16_outline"), "click", function() {
            add_polygon_block(block_QX_16);
            mainView.goTo({position: [132.90856, 47.24615,20000], heading: 0, tilt: 0});
        });
		on(dojo.query("#Demo_Area_Qixing_16"), "click", function() {
            add_polygon_block_nocolor(block_QX_16);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_00_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[0]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_01_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[1]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_02_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[2]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_03_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[3]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_04_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[4]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_05_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[5]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_06_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[6]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_07_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[7]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_08_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[8]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_09_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[9]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_10_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[10]);
        });
        on(dojo.query("#Demo_Cell_Qixing_16_11_loc"), "click", function() {
            add_polygon_Cell_a(block_QX_16,Cell_QX_16[11]);
        });


        on(dojo.query("#Demo_Area_Hulbr_loc"), "click", function() {
            mainView.goTo({position: [ 119.76421, 48.698,20000], heading: 0, tilt: 70});
            add_polygon_area(area_Hulbr);
        });
        on(dojo.query("#Demo_Area_Hulbr_T_outline"), "click", function() {
            mainView.goTo({position: [120.45509, 49.53203,100000], heading: 0, tilt: 0});
            add_polygon_area(Hulbr_T);
        });

        on(dojo.query("#Demo_Area_Hulbr_X_outline"), "click", function() {
            mainView.goTo({position: [119.91127, 49.29892,100000], heading: 0, tilt: 0});
            add_polygon_area(Hulbr_X);
        });
        on(dojo.query("#Demo_Cell_Hulbr_X_01_loc"), "click", function() {
            mainView.goTo({position: [120.15175, 49.27933,10000], heading: 0, tilt: 0});
            add_polygon_block(Hulbr_X_01);
        });
        on(dojo.query("#Demo_Cell_Hulbr_X_01_info"), "click", function() {
            remove_polygon_all();
            add_polygon_block_ok(Hulbr_X_01);
            add_polygon_block_warn(Hulbr_X_01_warn_01);
            add_polygon_block_warn(Hulbr_X_01_warn_02);
            add_polygon_block_ng(Hulbr_X_01_ng_01);
            add_polygon_block_ng(Hulbr_X_01_ng_02);
            add_polygon_block_ng(Hulbr_X_01_ng_03);
            add_polygon_block_ng(Hulbr_X_01_ng_04);
            add_polygon_block_ng(Hulbr_X_01_ng_05);
            add_polygon_block_ng(Hulbr_X_01_ng_06);
        });
        on(dojo.query("#Demo_Cell_Hulbr_X_02_loc"), "click", function() {
            mainView.goTo({position: [120.12776, 49.21268,10000], heading: 0, tilt: 0});
            add_polygon_block(Hulbr_X_02);
        });
        on(dojo.query("#Demo_Cell_Hulbr_X_02_info"), "click", function() {
            remove_polygon_all();
            add_polygon_block_ok(Hulbr_X_02);
            add_polygon_block_warn(Hulbr_X_02_warn_01);
            add_polygon_block_ng(Hulbr_X_02_ng_01);

        });
        on(dojo.query("#Demo_Cell_Hulbr_X_03_loc"), "click", function() {
            mainView.goTo({position: [120.03562, 49.30868,10000], heading: 0, tilt: 0});
            add_polygon_block(Hulbr_X_03);
        });
        on(dojo.query("#Demo_Cell_Hulbr_X_03_info"), "click", function() {
            remove_polygon_all();
            add_polygon_block_ok(Hulbr_X_03);
            add_polygon_block_warn(Hulbr_X_03_warn_01);
            add_polygon_block_warn(Hulbr_X_03_warn_02);
            add_polygon_block_ng(Hulbr_X_03_ng_01);
            add_polygon_block_ng(Hulbr_X_03_ng_02);
            add_polygon_block_ng(Hulbr_X_03_ng_03);
        });



        on(dojo.query("#Demo_Area_Qingdao_A_outline"), "click", function() {
            mainView.goTo({position: [120.565922,36.328220,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_laoshan);
            add_polygon_block_warn(QD_Airport);
            add_polygon_block_warn(QD_Airport1);
            add_polygon_block_warn(QD_Airport2);
            add_polygon_block_warn(QD_Airport3);
            add_polygon_block_warn(QD_Airport4);

        });
        on(dojo.query("#Demo_Cell_Qingdao_A_00_loc"), "click", function() {
            mainView.goTo({position: [120.565922,36.328220,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_laoshan);
            add_polygon_block_500(QD_laoshan600);
        });
        on(dojo.query("#Demo_Cell_Qingdao_A_01_loc"), "click", function() {
            mainView.goTo({position: [120.565922,36.328220,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_laoshan);
            add_polygon_block_500(QD_laoshan600);
            add_polygon_block_800(QD_laoshan800);
        });



        on(dojo.query("#Demo_Area_Qingdao_B_outline"), "click", function() {
            mainView.goTo({position: [120.481798,36.161822,10000], heading: 0, tilt: 0});
            add_polygon_block(QD_laoshanlinchang);
        });
        on(dojo.query("#Demo_Area_Qingdao_C_outline"), "click", function() {
            mainView.goTo({position: [120.530542,36.332246,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_chengyang);
            add_polygon_block_warn(QD_Airport);
            add_polygon_block_warn(QD_Airport1);
            add_polygon_block_warn(QD_Airport2);
            add_polygon_block_warn(QD_Airport3);
            add_polygon_block_warn(QD_Airport4);
        });

        on(dojo.query("#Demo_Area_Qingdao_D_outline"), "click", function() {
            mainView.goTo({position: [120.056561,36.066085,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_huangdao);
        });
        on(dojo.query("#Demo_Cell_Qingdao_D_00_loc"), "click", function() {
            mainView.goTo({position: [120.056561,36.066085,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_huangdao);
            add_polygon_block_500(QD_huangdao650);
        });
        on(dojo.query("#Demo_Cell_Qingdao_D_01_loc"), "click", function() {
            mainView.goTo({position: [120.056561,36.066085,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_huangdao);
            add_polygon_block_500(QD_huangdao650);
            add_polygon_block_800(QD_huangdao800);
        });


        on(dojo.query("#Demo_Area_Qingdao_E_outline"), "click", function() {
            mainView.goTo({position: [120.520617,36.389900,100000], heading: 0, tilt: 0});
            add_polygon_block(QD_jimo);
        });


        //***************dalian************Jinpu**************
        on(dojo.query("#Demo_Area_Dalian_loc"), "click", function() {
            mainView.goTo({position: [121.45423, 38.54076,20000], heading: 0, tilt: 70});
        });


        on(dojo.query("#Demo_Cell_Dalian_P_01_alt"), "click", function() {
            mainView.goTo({position: [121.45423, 38.54076,20000], heading: 0, tilt: 70});
            add_polygon_block_warn(DL_Airport);
        });
        on(dojo.query("#Demo_Cell_Dalian_P_02_alt"), "click", function() {
            mainView.goTo({position: [121.45423, 38.54076,20000], heading: 0, tilt: 70});
            add_polygon_block_warn(DL_Airport);
            add_polygon_block_warn(DL_Airport1);
            add_polygon_block_warn(DL_Airport2);
            add_polygon_block_warn(DL_Airport3);
            add_polygon_block_warn(DL_Airport4);
        });


        on(dojo.query("#Demo_Area_Dalian_A_outline"), "click", function() {
            mainView.goTo({position: [121.7816, 39.09946,100000], heading: 0, tilt: 0});
            add_polygon_block(DL_jinpu);
        });
        on(dojo.query("#Demo_Cell_Dalian_A_01_alt"), "click", function() {
            mainView.goTo({position: [121.7816, 39.09946,100000], heading: 0, tilt: 0});
            add_polygon_block_500(DL_jinpu500);
        });
        on(dojo.query("#Demo_Cell_Dalian_A_02_alt"), "click", function() {
            mainView.goTo({position: [121.7816, 39.09946,100000], heading: 0, tilt: 0});
            add_polygon_block_500(DL_jinpu500);
            add_polygon_block_800(DL_jinpu800);
        });

        on(dojo.query("#Demo_Area_Dalian_B_outline"), "click", function() {
            mainView.goTo({position: [121.6452, 38.88914,50000], heading: 0, tilt: 0});
            add_polygon_block(DL_Maincity);
        });
        on(dojo.query("#Demo_Cell_Dalian_B_01_alt"), "click", function() {
            mainView.goTo({position: [121.6452, 38.88914,100000], heading: 0, tilt: 0});
            add_polygon_block_500(DL_Maincity500);
        });
        on(dojo.query("#Demo_Area_Dalian_C_outline"), "click", function() {
            mainView.goTo({position: [ 121.46645, 38.96023,100000], heading: 0, tilt: 0});
            add_polygon_block(DL_Ganjingzi);
        });
        on(dojo.query("#Demo_Cell_Dalian_C_01_alt"), "click", function() {
            mainView.goTo({position: [121.46645, 38.96023,100000], heading: 0, tilt: 0});
            add_polygon_block_500(DL_Ganjingzi500);
        });
        on(dojo.query("#Demo_Area_Dalian_D_outline"), "click", function() {
            mainView.goTo({position: [ 121.50132, 38.86352,100000], heading: 0, tilt: 0});
            add_polygon_block(DL_Gaoxin);
        });
        on(dojo.query("#Demo_Cell_Dalian_D_01_alt"), "click", function() {
            mainView.goTo({position: [ 121.50132, 38.86352,100000], heading: 0, tilt: 0});
            add_polygon_block_500(DL_Gaoxin500);
        });
        on(dojo.query("#Demo_Area_Dalian_E_outline"), "click", function() {
            mainView.goTo({position: [ 121.23174, 38.863496,100000], heading: 0, tilt: 0});
            add_polygon_block(DL_Lvshunkou);
        });
        on(dojo.query("#Demo_Cell_Dalian_E_01_alt"), "click", function() {
            mainView.goTo({position: [121.23174, 38.863496,100000], heading: 0, tilt: 0});
            add_polygon_block_500(DL_Lvshunkou500);
        });
        on(dojo.query("#Demo_Area_Dalian_F_outline"), "click", function() {
            mainView.goTo({position: [122.89325, 39.27759,200000], heading: 0, tilt: 0});
            add_polygon_block(DL_Changhai);
        });
        on(dojo.query("#Demo_Cell_Dalian_F_01_alt"), "click", function() {
            mainView.goTo({position: [122.533, 39.2214,50000], heading: 0, tilt: 0});
            add_polygon_block(DL_Changhai1);
        });
        on(dojo.query("#Demo_Cell_Dalian_F_02_alt"), "click", function() {
            mainView.goTo({position: [122.78334, 39.04506,20000], heading: 0, tilt: 0});
            add_polygon_block(DL_Changhai2);
        });
        on(dojo.query("#Demo_Cell_Dalian_F_03_alt"), "click", function() {
            mainView.goTo({position: [123.0367, 39.49498,40000], heading: 0, tilt: 0});
            add_polygon_block(DL_Changhai3);
        });
        on(dojo.query("#Demo_Cell_Dalian_F_04_alt"), "click", function() {
            mainView.goTo({position: [123.17197, 39.05912,20000], heading: 0, tilt: 0});
            add_polygon_block(DL_Changhai4);
        });


        //add_polygon_block
        on(dojo.query("#Demo_Area_Zhangjk_A_outline"), "click", function() {
            mainView.goTo({position: [114.92974, 40.82734,2000], heading: 0, tilt: 0});
            add_polygon_block(block_ZJK_A);
        });
		on(dojo.query("#Demo_Area_Zhangjk_A"), "click", function() {
            add_polygon_block_nocolor(block_ZJK_A);
        });
        on(dojo.query("#Demo_Cell_Zhangjk_A_01_loc"), "click", function() {
            add_polygon_Cell(block_ZJK_A,Cell_ZJK_A[0]);
        });
        on(dojo.query("#Demo_Cell_Zhangjk_A_02_loc"), "click", function() {
            add_polygon_Cell(block_ZJK_A,Cell_ZJK_A[1]);
        });
        on(dojo.query("#Demo_Cell_Zhangjk_A_03_loc"), "click", function() {
            add_polygon_Cell(block_ZJK_A,Cell_ZJK_A[2]);
        });
        on(dojo.query("#Demo_Cell_Zhangjk_A_04_loc"), "click", function() {
            add_polygon_Cell(block_ZJK_A,Cell_ZJK_A[3]);
        });


        on(dojo.query("#Demo_Area_Zhaoguang_A_outline"), "click", function() {
            add_polygon_block(block_ZG_A);
            mainView.goTo({position: [126.89554, 48.0807,4000], heading: 0, tilt: 0});
        });
		on(dojo.query("#Demo_Area_Zhaoguang_A"), "click", function() {
            add_polygon_block_nocolor(block_ZG_A);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_A_01_loc"), "click", function() {
            add_polygon_Cell(block_ZG_A,Cell_ZG_A[0]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_A_02_loc"), "click", function() {
            add_polygon_Cell(block_ZG_A,Cell_ZG_A[1]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_A_03_loc"), "click", function() {
            add_polygon_Cell(block_ZG_A,Cell_ZG_A[2]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_A_04_loc"), "click", function() {
            add_polygon_Cell(block_ZG_A,Cell_ZG_A[3]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_A_05_loc"), "click", function() {
            add_polygon_Cell(block_ZG_A,Cell_ZG_A[4]);
        });

        on(dojo.query("#Demo_Area_Zhaoguang_B_outline"), "click", function() {
            add_polygon_block(block_ZG_B);
            mainView.goTo({position: [126.45159, 48.04779,4000], heading: 0, tilt: 0});
        });
		on(dojo.query("#Demo_Area_Zhaoguang_B"), "click", function() {
            add_polygon_block_nocolor(block_ZG_B);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_B_01_loc"), "click", function() {
            add_polygon_Cell(block_ZG_B,Cell_ZG_B[0]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_B_02_loc"), "click", function() {
            add_polygon_Cell(block_ZG_B,Cell_ZG_B[1]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_B_03_loc"), "click", function() {
            add_polygon_Cell(block_ZG_B,Cell_ZG_B[2]);
        });

        on(dojo.query("#Demo_Area_Zhaoguang_C_outline"), "click", function() {
            add_polygon_block(block_ZG_C);
            mainView.goTo({position: [126.45159, 48.04779,4000], heading: 0, tilt: 0});
        });
		on(dojo.query("#Demo_Area_Zhaoguang_C"), "click", function() {
            add_polygon_block_nocolor(block_ZG_C);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_C_01_loc"), "click", function() {
            add_polygon_Cell(block_ZG_C,Cell_ZG_C[0]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_C_02_loc"), "click", function() {
            add_polygon_Cell(block_ZG_C,Cell_ZG_C[1]);
        });
        on(dojo.query("#Demo_Cell_Zhaoguang_C_03_loc"), "click", function() {
            add_polygon_Cell(block_ZG_C,Cell_ZG_C[2]);
        });

        on(dojo.query("#Demo_Area_Xinjiang_A_outline"), "click", function() {
            add_polygon_block(block_XJ_A);
            mainView.goTo({position: [87.3060,43.9026,2000], heading: 0, tilt: 0});
        });
		on(dojo.query("#Demo_Area_Xinjiang_A"), "click", function() {
            add_polygon_block_nocolor(block_XJ_A);
        });
        on(dojo.query("#Demo_Cell_Xinjiang_A_01_loc"), "click", function() {
            add_polygon_Cell(block_XJ_A,Cell_XJ_A[0]);
        });
        on(dojo.query("#Demo_Cell_Xinjiang_A_02_loc"), "click", function() {
            add_polygon_Cell(block_XJ_A,Cell_XJ_A[1]);
        });
        on(dojo.query("#Demo_Cell_Xinjiang_A_03_loc"), "click", function() {
            add_polygon_Cell(block_XJ_A,Cell_XJ_A[2]);
        });

        mainView.on('click', function(evt){
           if(evt.mapPoint){
               var x = Math.round(evt.mapPoint.longitude * 100000)/100000;
               var y = Math.round(evt.mapPoint.latitude * 100000)/100000;
               var z = Math.round(evt.mapPoint.z * 100)/100;
               var loc = document.getElementById("curloc");
               loc.innerHTML = '鼠标单击位置：经纬度 [' + x + ', ' + y + '], 海拔' + z + 'm';
           }
        });

        istoGround = false;
        on(dojo.query("#toGround"), "click", updateElevation);

        function updateElevation(ev) {

          // Turn ground layers visibility on/off
          mainMap.ground.layers.forEach(function(layer) {
            layer.visible = istoGround;
              if(!istoGround){
                  istoGround = true;
              }else if(istoGround){
                  istoGround = false;
              }else{
                  istoGround = undefined
              }
          });
        }
    });

    </script>

</head>

<body>
    <div id="viewDiv">
    </div>
    {% include 'InfoDiv.html' %}
    <div id="curcordDiv">
        <p id="curloc">鼠标单击位置：经纬度( ---.----, ---.---- ), 海拔---.--m</p>
    </div>
    <div id="overviewDiv">
        <div id="extentDiv"></div>
    </div>
    {% include 'LIstDiv.html' %}

</body>
</html>